<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Admin - Hackathon Inova+ 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Syne:wght@400;600;700;800&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet" />
    <style>
        :root {
            --yellow: #FFD600;
            --cyan: #00F0FF;
            --dark: #07090F;
            --panel: #0C1020;
            --text: #E8EAF6;
            --error: #ff4444;
            --success: #00C851;
            --border: rgba(255,214,0,0.15);
        }
        
        body {
            background: var(--dark);
            color: var(--text);
            font-family: 'Syne', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        
        .login-container {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 40px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        h1 {
            font-family: 'Bebas Neue', sans-serif;
            color: var(--yellow);
            font-size: 2.5rem;
            margin: 0 0 10px 0;
            text-align: center;
        }
        
        h2 {
            font-family: 'Space Mono', monospace;
            font-size: 0.8rem;
            color: var(--cyan);
            text-align: center;
            margin-bottom: 30px;
            letter-spacing: 2px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            font-family: 'Space Mono', monospace;
            font-size: 0.7rem;
            color: var(--cyan);
            margin-bottom: 5px;
            letter-spacing: 1px;
        }
        
        input {
            width: 100%;
            padding: 12px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(0,240,255,0.2);
            color: var(--text);
            font-family: 'Syne', sans-serif;
            border-radius: 4px;
            box-sizing: border-box;
        }
        
        input:focus {
            outline: none;
            border-color: var(--yellow);
            box-shadow: 0 0 0 3px rgba(255,214,0,0.1);
        }
        
        .btn-login {
            width: 100%;
            padding: 14px;
            background: var(--yellow);
            color: var(--dark);
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.2rem;
            border: none;
            cursor: pointer;
            border-radius: 4px;
            margin-top: 20px;
            transition: all 0.3s;
        }
        
        .btn-login:hover {
            background: var(--cyan);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,240,255,0.3);
        }
        
        .error-message {
            background: rgba(255,68,68,0.1);
            border-left: 4px solid var(--error);
            padding: 10px;
            margin: 20px 0;
            color: #ff8888;
            display: none;
        }
        
        .success-message {
            background: rgba(0,200,81,0.1);
            border-left: 4px solid var(--success);
            padding: 10px;
            margin: 20px 0;
            color: #88ff88;
            display: none;
        }
    </style>
</head>
<body>
    <div class="login-container">
        <h1>INOVA+</h1>
        <h2>PAINEL ADMINISTRATIVO</h2>
        
        <div class="error-message" id="errorMessage"></div>
        <div class="success-message" id="successMessage"></div>
        
        <div id="loginPanel">
            <div class="form-group">
                <label>USUÁRIO</label>
                <input type="text" id="username" placeholder="admin" value="admin">
            </div>
            
            <div class="form-group">
                <label>SENHA</label>
                <input type="password" id="password" placeholder="••••••••" value="admin123">
            </div>
            
            <button class="btn-login" onclick="fazerLogin()">ENTRAR</button>
        </div>
    </div>

    <script>
        // !!! USE A URL CORRETA DA SUA IMPLANTAÇÃO !!!
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwMKaQ-8fopOYoehbYpZNs1veUWuI6yztzF2uRAOkMX9GWi3FrcPFpfTfwN0WLoxo12/exec';
        
        function fazerLogin() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            mostrarErro('Conectando...');
            
            // Usando JSONP para evitar erro de CORS
            const callbackName = 'callback_' + Date.now();
            
            window[callbackName] = function(data) {
                if (data.success) {
                    if (data.primeiro_acesso) {
                        window.location.href = 'trocar-senha.html'; // Página para trocar senha
                    } else {
                        window.location.href = 'dashboard.html'; // Página do dashboard
                    }
                } else {
                    mostrarErro(data.error || 'Usuário ou senha inválidos');
                }
                
                delete window[callbackName];
                document.body.removeChild(script);
            };
            
            const script = document.createElement('script');
            script.src = `${SCRIPT_URL}?action=login&username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}&callback=${callbackName}`;
            script.onerror = function() {
                mostrarErro('Erro de conexão com o servidor');
                delete window[callbackName];
                document.body.removeChild(script);
            };
            
            document.body.appendChild(script);
        }
        
        function mostrarErro(msg) {
            document.getElementById('errorMessage').style.display = 'block';
            document.getElementById('errorMessage').innerHTML = msg;
            document.getElementById('successMessage').style.display = 'none';
        }
        
        function mostrarSucesso(msg) {
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('successMessage').innerHTML = msg;
            document.getElementById('errorMessage').style.display = 'none';
        }
    </script>
</body>
</html>
